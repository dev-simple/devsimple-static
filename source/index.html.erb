---
pageable: true
per_page: 10
---
<ul class="mini-post-list">
    <% page_articles.each_with_index do |article, i| %>
        <li class="mini-post">
          <h2 class="mini-post--title"><%= link_to article.title, article %></h2>
          <p class="mini-post--summary"><%= article.summary %></p>
          <div class="meta">
              <% author = find_author(article.data.author) %>
              <span class="meta-author"><%= author.name %></span>
              ∙
              <span class="meta-date"><%= article.date.strftime("%d.%m.%Y") %></span>
              <ul class="meta-tag-list">
                  <% article.tags.each do |tag| %>
                      <li class="meta-tag-item"><%= link_to tag, "/posts/tags/#{tag}" %></li>
                  <% end %>
              </ul>
          </div>
        </li>
    <% end %>
</ul>

<% if paginate && num_pages > 1 %>
  <ul class="pagination">
      <% if prev_page %>
          <li class="pagination--item"><%= link_to '← Туда', prev_page %></li>
      <% end %>

      <% if page_number == 1 %>
          <li class="pagination--item"><%= page_number %></li>
      <% else %>
          <li class="pagination--item"><%= link_to 1, "/" %></li>
      <% end %>

      <% (2...page_number).each do |num| %>
          <li class="pagination--item"><%= link_to num, "/posts/page/#{num}" %></li>
      <% end %>

      <% if page_number != 1 %>
          <li class="pagination--item pagination--active-item"><%= page_number %></li>
      <% end %>

      <% ((page_number + 1)..num_pages).each do |num| %>
          <li class="pagination--item"><%= link_to num, "/posts/page/#{num}" %></li>
      <% end %>

      <% if next_page %>
        <li class="pagination--item"><%= link_to 'Сюда →', next_page %></li>
      <% end %>
  </ul>

<% end %>

